<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–Ω–ª–∞–π–Ω-—Ç—Ä–µ–Ω–∞–∂–µ—Ä –ü–î–î | –ê–≤—Ç–æ—à–∫–æ–ª–∞ ¬´–ê–≤–∞–Ω–≥–∞—Ä–¥¬ª</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', sans-serif; }
        
        /* –í–ê–®–ò –°–¢–ò–õ–ò –° –ì–õ–ê–í–ù–û–ô –°–¢–†–ê–ù–ò–¶–´ */
        ::-webkit-scrollbar { width: 12px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: linear-gradient(to bottom, #3b82f6, #8b5cf6); border-radius: 6px; border: 3px solid #f1f5f9; }
        
        .gradient-text {
            background: linear-gradient(to right, #3b82f6 0%, #8b5cf6 25%, #06b6d4 50%, #8b5cf6 75%, #3b82f6 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shine-text 6s linear infinite;
        }

        @keyframes shine-text {
            0% { background-position: 0% center; }
            100% { background-position: -200% center; }
        }
        
        .btn-gradient {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            transition: all 0.3s ease;
        }
        .btn-gradient:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4); }

        /* –ë–ª–∏–∫ –∏ —Å–≤–µ—á–µ–Ω–∏–µ */
        @keyframes constant-glow {
            0% { box-shadow: 0 0 5px rgba(59, 130, 246, 0.5); }
            50% { box-shadow: 0 0 25px rgba(59, 130, 246, 0.9), 0 0 15px rgba(139, 92, 246, 0.6); }
            100% { box-shadow: 0 0 5px rgba(59, 130, 246, 0.5); }
        }
        .btn-glow { animation: constant-glow 2s infinite ease-in-out; }

        @keyframes sheen-flow {
            0% { left: -100%; opacity: 0; }
            1% { opacity: 0.5; }
            15% { left: 200%; opacity: 0.5; }
            100% { left: 200%; opacity: 0; }
        }
        .btn-sheen { position: relative; overflow: hidden; }
        .btn-sheen::after {
            content: ''; position: absolute; top: 0; left: -100%; width: 50%; height: 100%;
            background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0) 100%);
            transform: skewX(-25deg); pointer-events: none; animation: sheen-flow 7s infinite ease-in-out;
        }

        /* –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ç–µ—Å—Ç–∞ */
        .answer-btn {
            transition: all 0.2s;
            border: 2px solid #e5e7eb;
        }
        .answer-btn:hover:not(:disabled) {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        .answer-btn.correct {
            background-color: #dcfce7 !important;
            border-color: #22c55e !important;
            color: #15803d;
        }
        .answer-btn.wrong {
            background-color: #fee2e2 !important;
            border-color: #ef4444 !important;
            color: #b91c1c;
        }
        
        .nav-dot {
            transition: all 0.3s;
        }
        .nav-dot.current { border-color: #3b82f6; background-color: #eff6ff; color: #3b82f6; font-weight: bold; transform: scale(1.1); }
        .nav-dot.done-correct { background-color: #22c55e; border-color: #22c55e; color: white; }
        .nav-dot.done-wrong { background-color: #ef4444; border-color: #ef4444; color: white; }

        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 h-screen flex flex-col">

    <!-- Header (–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π) -->
    <header class="bg-white shadow-sm z-50">
        <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
            <a href="index.html" class="flex items-center gap-3 hover:opacity-80 transition">
                <!-- –õ–æ–≥–æ—Ç–∏–ø (–∑–∞–º–µ–Ω–∏—Ç–µ –ø—É—Ç—å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ) -->
                <img src="images/logo.png" alt="Logo" class="w-10 h-10 rounded-lg object-contain">
                <div>
                    <span class="text-xl font-bold gradient-text">–ê–≤–∞–Ω–≥–∞—Ä–¥</span>
                    <p class="text-xs text-gray-500">–¢—Ä–µ–Ω–∞–∂–µ—Ä –ü–î–î 2025</p>
                </div>
            </a>
            <a href="index.html" class="text-sm font-medium text-gray-600 hover:text-blue-600 flex items-center gap-1">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç
            </a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow flex items-center justify-center p-4">
        
        <!-- START SCREEN -->
        <div id="start-screen" class="max-w-2xl w-full bg-white rounded-3xl shadow-xl p-8 text-center fade-in">
            <div class="w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-6">
                <svg class="w-10 h-10 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
            </div>
            <h1 class="text-3xl font-bold mb-4">–≠–∫–∑–∞–º–µ–Ω –ü–î–î –û–Ω–ª–∞–π–Ω</h1>
            <p class="text-gray-600 mb-8 text-lg">–ë–∏–ª–µ—Ç ‚Ññ1. –í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ 5 –≤–æ–ø—Ä–æ—Å–æ–≤ (–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞).<br>–ù–∞ —Ä–µ–∞–ª—å–Ω–æ–º —ç–∫–∑–∞–º–µ–Ω–µ ‚Äî 20 –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ 20 –º–∏–Ω—É—Ç –≤—Ä–µ–º–µ–Ω–∏.</p>
            <div class="flex justify-center gap-4">
                <button onclick="startTest()" class="btn-gradient btn-glow btn-sheen text-white px-12 py-4 rounded-xl font-bold text-lg hover:shadow-lg transition transform hover:-translate-y-1">
                    –ù–∞—á–∞—Ç—å —ç–∫–∑–∞–º–µ–Ω
                </button>
            </div>
        </div>

        <!-- QUIZ SCREEN -->
        <div id="quiz-screen" class="hidden max-w-4xl w-full flex-col gap-6 fade-in">
            <!-- Top Bar -->
            <div class="bg-white p-4 rounded-2xl shadow-sm flex flex-wrap items-center justify-between gap-4">
                <div class="flex items-center gap-2 text-gray-700 font-medium">
                    <span class="text-blue-600 font-bold text-xl">–ë–∏–ª–µ—Ç 1</span>
                    <span class="text-gray-300">|</span>
                    <span id="question-counter">–í–æ–ø—Ä–æ—Å 1/5</span>
                </div>
                <div class="flex items-center gap-2 bg-gray-100 px-4 py-2 rounded-lg">
                    <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <span id="timer" class="font-mono font-bold text-lg text-gray-700">20:00</span>
                </div>
            </div>

            <!-- Navigation Bar -->
            <div class="bg-white p-4 rounded-2xl shadow-sm overflow-x-auto">
                <div class="flex gap-2 min-w-max" id="nav-dots-container">
                    <!-- JS generates dots here -->
                </div>
            </div>

            <div class="grid lg:grid-cols-5 gap-6">
                <!-- Question Image & Text -->
                <div class="lg:col-span-3 bg-white p-6 rounded-3xl shadow-md">
                    <div class="aspect-video bg-gray-200 rounded-xl mb-6 overflow-hidden relative group">
                        <!-- Placeholder image (would be real PDD image) -->
                        <img id="q-image" src="" alt="–ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-black/5 group-hover:bg-transparent transition"></div>
                    </div>
                    <h2 id="q-text" class="text-xl font-bold text-gray-900 leading-relaxed">–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞...</h2>
                    
                    <!-- Explanation Block (Hidden initially) -->
                    <div id="explanation" class="hidden mt-6 bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg">
                        <h4 class="font-bold text-blue-700 mb-1">–ü–æ—è—Å–Ω–µ–Ω–∏–µ:</h4>
                        <p id="explanation-text" class="text-sm text-gray-700"></p>
                    </div>
                </div>

                <!-- Answers -->
                <div class="lg:col-span-2 flex flex-col gap-3" id="answers-container">
                    <!-- JS generates buttons here -->
                </div>
            </div>

            <!-- Next Button (Hidden until answered) -->
            <div class="flex justify-end">
                <button id="next-btn" onclick="nextQuestion()" class="hidden btn-gradient text-white px-8 py-3 rounded-xl font-semibold shadow-md hover:shadow-lg transition">
                    –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å ‚Üí
                </button>
                <button id="finish-btn" onclick="finishTest()" class="hidden bg-gray-800 text-white px-8 py-3 rounded-xl font-semibold shadow-md hover:bg-gray-700 transition">
                    –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç
                </button>
            </div>
        </div>

        <!-- RESULT SCREEN -->
        <div id="result-screen" class="hidden max-w-lg w-full bg-white rounded-3xl shadow-2xl p-8 text-center fade-in">
            <div id="result-icon" class="w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 text-5xl shadow-lg">
                <!-- Emoji via JS -->
            </div>
            <h2 id="result-title" class="text-3xl font-bold mb-2">–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
            <p id="result-message" class="text-gray-600 mb-8 text-lg">–û–ø–∏—Å–∞–Ω–∏–µ</p>
            
            <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="bg-green-50 p-4 rounded-2xl">
                    <div class="text-sm text-gray-500">–í–µ—Ä–Ω–æ</div>
                    <div id="score-correct" class="text-2xl font-bold text-green-600">0</div>
                </div>
                <div class="bg-red-50 p-4 rounded-2xl">
                    <div class="text-sm text-gray-500">–û—à–∏–±–æ–∫</div>
                    <div id="score-wrong" class="text-2xl font-bold text-red-600">0</div>
                </div>
            </div>

            <button onclick="location.reload()" class="w-full btn-gradient btn-glow text-white py-4 rounded-xl font-bold text-lg">
                –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
            </button>
        </div>

    </main>

    <footer class="bg-white border-t border-gray-100 py-6 mt-auto">
        <div class="text-center text-gray-500 text-sm">
            ¬© 2025 –ê–≤—Ç–æ—à–∫–æ–ª–∞ ¬´–ê–≤–∞–Ω–≥–∞—Ä–¥¬ª. –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π —Ä–µ–∂–∏–º.
        </div>
    </footer>

    <!-- LOGIC -->
    <script>
        // --- DATA (–í–æ–ø—Ä–æ—Å—ã) ---
        const questions = [
            {
                id: 1,
                image: "https://images.unsplash.com/photo-1568283023240-6298517e4f0d?w=800&q=80", // –ü—Ä–∏–º–µ—Ä –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–∞
                text: "–ö—Ç–æ –∏–º–µ–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –≤ –ø—Ä–æ–µ–∑–¥–µ –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–∞?",
                answers: [
                    "–í–æ–¥–∏—Ç–µ–ª—å –ª–µ–≥–∫–æ–≤–æ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è",
                    "–í–æ–¥–∏—Ç–µ–ª—å –≥—Ä—É–∑–æ–≤–∏–∫–∞",
                    "–í–æ–¥–∏—Ç–µ–ª—å —Ç—Ä–∞–º–≤–∞—è"
                ],
                correct: 2, // –ò–Ω–¥–µ–∫—Å 0, 1, 2... (–¢—Ä–∞–º–≤–∞–π)
                explanation: "–¢—Ä–∞–º–≤–∞–π –∏–º–µ–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–¥ –±–µ–∑—Ä–µ–ª—å—Å–æ–≤—ã–º–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–º–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ –ø—Ä–∏ –ø—Ä–æ–µ–∑–¥–µ —Ä–∞–≤–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–æ–≤, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –µ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è."
            },
            {
                id: 2,
                image: "https://images.unsplash.com/photo-1566418872044-6450684f85e3?w=800&q=80", 
                text: "–†–∞–∑—Ä–µ—à–µ–Ω–æ –ª–∏ –í–∞–º –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–±–≥–æ–Ω –≤ –¥–∞–Ω–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏?",
                answers: [
                    "–†–∞–∑—Ä–µ—à–µ–Ω–æ",
                    "–†–∞–∑—Ä–µ—à–µ–Ω–æ, –µ—Å–ª–∏ —Å–∫–æ—Ä–æ—Å—Ç—å –≥—Ä—É–∑–æ–≤–∏–∫–∞ –º–µ–Ω–µ–µ 30 –∫–º/—á",
                    "–ó–∞–ø—Ä–µ—â–µ–Ω–æ"
                ],
                correct: 0,
                explanation: "–ó–Ω–∞–∫ '–û–±–≥–æ–Ω –∑–∞–ø—Ä–µ—â–µ–Ω' –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç —Å–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ –±–ª–∏–∂–∞–π—à–µ–º –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–µ. –í—ã –ø—Ä–æ–µ—Ö–∞–ª–∏ –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–æ–∫, –∑–Ω–∞—á–∏—Ç –æ–±–≥–æ–Ω —Ä–∞–∑—Ä–µ—à–µ–Ω."
            },
            {
                id: 3,
                image: "https://images.unsplash.com/photo-1625239922268-072051930266?w=800&q=80",
                text: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –º–∏–≥–∞—é—â–∏–π –∑–µ–ª–µ–Ω—ã–π —Å–∏–≥–Ω–∞–ª —Å–≤–µ—Ç–æ—Ñ–æ—Ä–∞?",
                answers: [
                    "–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏ —Å–≤–µ—Ç–æ—Ñ–æ—Ä–∞",
                    "–ó–∞–ø—Ä–µ—â–∞–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–µ–µ –¥–≤–∏–∂–µ–Ω–∏–µ",
                    "–†–∞–∑—Ä–µ—à–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –∏ –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–∫–æ—Ä–µ –≤–∫–ª—é—á–∏—Ç—Å—è –∑–∞–ø—Ä–µ—â–∞—é—â–∏–π —Å–∏–≥–Ω–∞–ª"
                ],
                correct: 2,
                explanation: "–ú–∏–≥–∞—é—â–∏–π –∑–µ–ª–µ–Ω—ã–π —Å–∏–≥–Ω–∞–ª —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –∏ –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –≤–æ–¥–∏—Ç–µ–ª–µ–π, —á—Ç–æ –≤—Ä–µ–º—è –µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –∏—Å—Ç–µ–∫–∞–µ—Ç –∏ –≤—Å–∫–æ—Ä–µ –±—É–¥–µ—Ç –≤–∫–ª—é—á–µ–Ω –∑–∞–ø—Ä–µ—â–∞—é—â–∏–π —Å–∏–≥–Ω–∞–ª."
            },
            {
                id: 4,
                image: "https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?w=800&q=80",
                text: "–ö–∞–∫–∏–µ –≤–Ω–µ—à–Ω–∏–µ —Å–≤–µ—Ç–æ–≤—ã–µ –ø—Ä–∏–±–æ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω—ã –≤ —Ç–µ–º–Ω–æ–µ –≤—Ä–µ–º—è —Å—É—Ç–æ–∫ –Ω–∞ –æ—Å–≤–µ—â–µ–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–∫–∞—Ö –¥–æ—Ä–æ–≥?",
                answers: [
                    "–¢–æ–ª—å–∫–æ –≥–∞–±–∞—Ä–∏—Ç–Ω—ã–µ –æ–≥–Ω–∏",
                    "–§–∞—Ä—ã –±–ª–∏–∂–Ω–µ–≥–æ —Å–≤–µ—Ç–∞",
                    "–ì–∞–±–∞—Ä–∏—Ç–Ω—ã–µ –æ–≥–Ω–∏ –∏–ª–∏ —Ñ–∞—Ä—ã –±–ª–∏–∂–Ω–µ–≥–æ —Å–≤–µ—Ç–∞"
                ],
                correct: 1,
                explanation: "–í —Ç–µ–º–Ω–æ–µ –≤—Ä–µ–º—è —Å—É—Ç–æ–∫ –∏ –≤ —É—Å–ª–æ–≤–∏—è—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –æ—Å–≤–µ—â–µ–Ω–∏—è –¥–æ—Ä–æ–≥–∏, –∞ —Ç–∞–∫–∂–µ –≤ —Ç–æ–Ω–Ω–µ–ª—è—Ö –Ω–∞ –¥–≤–∏–∂—É—â–µ–º—Å—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–º —Å—Ä–µ–¥—Å—Ç–≤–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω—ã —Ñ–∞—Ä—ã –¥–∞–ª—å–Ω–µ–≥–æ –∏–ª–∏ –±–ª–∏–∂–Ω–µ–≥–æ —Å–≤–µ—Ç–∞."
            },
            {
                id: 5,
                image: "https://s6.iimage.su/s/18/gGA9oQmxVQ9Ps5XugzpKidsQTDfrDifg4uWmYuly.png",
                text: "–†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –ª–∏ –í–∞–º –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –º–µ—Å—Ç–µ?",
                answers: [
                    "–†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è",
                    "–†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ—Å–∞–¥–∫–∏ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤",
                    "–ó–∞–ø—Ä–µ—â–∞–µ—Ç—Å—è"
                ],
                correct: 2,
                explanation: "–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–ø—Ä–µ—â–∞–µ—Ç—Å—è –Ω–∞ –ø–µ—à–µ—Ö–æ–¥–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –∏ –±–ª–∏–∂–µ 5 –º –ø–µ—Ä–µ–¥ –Ω–∏–º–∏."
            }
        ];

        // --- STATE ---
        let currentQIndex = 0;
        let scoreCorrect = 0;
        let scoreWrong = 0;
        let userAnswers = new Array(questions.length).fill(null); // null, true (correct), false (wrong)
        let timerInterval;
        let timeLeft = 20 * 60; // 20 minutes in seconds

        // --- DOM ELEMENTS ---
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const qImage = document.getElementById('q-image');
        const qText = document.getElementById('q-text');
        const answersContainer = document.getElementById('answers-container');
        const navDotsContainer = document.getElementById('nav-dots-container');
        const explanationBlock = document.getElementById('explanation');
        const explanationText = document.getElementById('explanation-text');
        const nextBtn = document.getElementById('next-btn');
        const finishBtn = document.getElementById('finish-btn');
        const timerEl = document.getElementById('timer');
        const qCounter = document.getElementById('question-counter');

        // --- FUNCTIONS ---

        function startTest() {
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            quizScreen.classList.add('flex'); // it was hidden flex-col
            
            initNavDots();
            loadQuestion(0);
            startTimer();
        }

        function initNavDots() {
            navDotsContainer.innerHTML = '';
            questions.forEach((_, idx) => {
                const dot = document.createElement('div');
                dot.className = `nav-dot w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center text-sm cursor-pointer hover:border-blue-400`;
                dot.innerText = idx + 1;
                // Add click handler to jump to question (optional logic, usually linear)
                // dot.onclick = () => loadQuestion(idx); 
                navDotsContainer.appendChild(dot);
            });
        }

        function updateNavDots() {
            const dots = navDotsContainer.children;
            for (let i = 0; i < dots.length; i++) {
                dots[i].classList.remove('current');
                if (i === currentQIndex) dots[i].classList.add('current');

                if (userAnswers[i] === true) {
                    dots[i].className = 'nav-dot w-8 h-8 rounded-full flex items-center justify-center text-sm done-correct font-bold';
                } else if (userAnswers[i] === false) {
                    dots[i].className = 'nav-dot w-8 h-8 rounded-full flex items-center justify-center text-sm done-wrong font-bold';
                }
            }
        }

        function loadQuestion(index) {
            currentQIndex = index;
            const q = questions[index];
            
            // UI Updates
            qCounter.innerText = `–í–æ–ø—Ä–æ—Å ${index + 1}/${questions.length}`;
            qImage.src = q.image;
            qText.innerText = q.text;
            
            // Reset state for new question
            explanationBlock.classList.add('hidden');
            nextBtn.classList.add('hidden');
            finishBtn.classList.add('hidden');
            answersContainer.innerHTML = '';
            
            updateNavDots();

            // Check if already answered (if implementing navigation back)
            if (userAnswers[index] !== null) {
                // Render answered state (simplified for this demo: just block interaction)
                showAnsweredState(q, userAnswers[index]);
                return;
            }

            // Generate Answers
            q.answers.forEach((ans, ansIdx) => {
                const btn = document.createElement('button');
                btn.className = 'answer-btn w-full text-left p-4 rounded-xl font-medium bg-white text-gray-700 shadow-sm';
                btn.innerHTML = `<span class="font-bold mr-2 text-gray-400">${ansIdx + 1}.</span> ${ans}`;
                btn.onclick = () => handleAnswer(ansIdx, btn);
                answersContainer.appendChild(btn);
            });
        }

        function handleAnswer(selectedIndex, btnElement) {
            const q = questions[currentQIndex];
            const isCorrect = selectedIndex === q.correct;
            
            // Disable all buttons
            const allBtns = answersContainer.querySelectorAll('button');
            allBtns.forEach(b => b.disabled = true);

            // Highlight selected
            if (isCorrect) {
                btnElement.classList.add('correct');
                scoreCorrect++;
                userAnswers[currentQIndex] = true;
            } else {
                btnElement.classList.add('wrong');
                scoreWrong++;
                userAnswers[currentQIndex] = false;
                // Highlight correct one
                allBtns[q.correct].classList.add('correct');
            }

            // Show explanation
            explanationText.innerText = q.explanation;
            explanationBlock.classList.remove('hidden');

            updateNavDots();

            // Show Next/Finish button
            if (currentQIndex < questions.length - 1) {
                nextBtn.classList.remove('hidden');
            } else {
                finishBtn.classList.remove('hidden');
            }
        }

        function nextQuestion() {
            if (currentQIndex < questions.length - 1) {
                loadQuestion(currentQIndex + 1);
            }
        }

        function finishTest() {
            clearInterval(timerInterval);
            quizScreen.classList.add('hidden');
            quizScreen.classList.remove('flex');
            resultScreen.classList.remove('hidden');

            const isPass = scoreWrong <= 2; // –î–æ–ø—É—Å—Ç–∏–º–æ 2 –æ—à–∏–±–∫–∏ (—É–ø—Ä–æ—â–µ–Ω–Ω–æ)
            const resultTitle = document.getElementById('result-title');
            const resultMsg = document.getElementById('result-message');
            const resultIcon = document.getElementById('result-icon');
            const scoreC = document.getElementById('score-correct');
            const scoreW = document.getElementById('score-wrong');

            scoreC.innerText = scoreCorrect;
            scoreW.innerText = scoreWrong;

            if (isPass) {
                resultIcon.innerHTML = 'üéâ';
                resultIcon.classList.add('bg-green-100');
                resultTitle.innerText = "–≠–∫–∑–∞–º–µ–Ω —Å–¥–∞–Ω!";
                resultTitle.classList.add('text-green-600');
                resultMsg.innerText = "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –æ—Ç–ª–∏—á–Ω–æ —Å–ø—Ä–∞–≤–∏–ª–∏—Å—å —Å —Ç–µ–æ—Ä–∏–µ–π.";
            } else {
                resultIcon.innerHTML = '‚ùå';
                resultIcon.classList.add('bg-red-100');
                resultTitle.innerText = "–ù–µ —Å–¥–∞–ª";
                resultTitle.classList.add('text-red-600');
                resultMsg.innerText = "–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –¥–æ–ø—É—â–µ–Ω–æ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.";
            }
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                const m = Math.floor(timeLeft / 60).toString().padStart(2, '0');
                const s = (timeLeft % 60).toString().padStart(2, '0');
                timerEl.innerText = `${m}:${s}`;

                if (timeLeft <= 10) timerEl.classList.add('text-red-500');

                if (timeLeft <= 0) {
                    finishTest();
                }
            }, 1000);
        }

    </script>
</body>
</html>